ALTER TABLE public.quote_lines
    ADD COLUMN IF NOT EXISTS id UUID NOT NULL DEFAULT gen_random_uuid(),
    ADD COLUMN IF NOT EXISTS version_id UUID NOT NULL,
    ADD COLUMN IF NOT EXISTS kind quote_line_kind NOT NULL,
    ADD COLUMN IF NOT EXISTS ref_id TEXT,
    ADD COLUMN IF NOT EXISTS label TEXT NOT NULL,
    ADD COLUMN IF NOT EXISTS description TEXT,
    ADD COLUMN IF NOT EXISTS quantity NUMERIC(10, 2) NOT NULL DEFAULT '1',
    ADD COLUMN IF NOT EXISTS unit_price_cents INTEGER NOT NULL DEFAULT 0,
    ADD COLUMN IF NOT EXISTS tax_rate_pct NUMERIC(5, 4) NOT NULL DEFAULT '0',
    ADD COLUMN IF NOT EXISTS discount_pct NUMERIC(5, 4) NOT NULL DEFAULT '0',
    ADD COLUMN IF NOT EXISTS optional BOOLEAN NOT NULL DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS position INTEGER NOT NULL,
    ADD COLUMN IF NOT EXISTS net_amount_cents INTEGER NOT NULL DEFAULT 0,
    ADD COLUMN IF NOT EXISTS tax_amount_cents INTEGER NOT NULL DEFAULT 0,
    ADD COLUMN IF NOT EXISTS gross_amount_cents INTEGER NOT NULL DEFAULT 0,
    ADD COLUMN IF NOT EXISTS metadata JSONB,
    ADD COLUMN IF NOT EXISTS deleted_at TIMESTAMPTZ,
    ADD COLUMN IF NOT EXISTS created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    ADD COLUMN IF NOT EXISTS updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW();
